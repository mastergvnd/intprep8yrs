package com.test;

import java.util.HashMap;

import com.essbase.api.base.IEssBaseObject;
import com.essbase.api.datasource.IEssCube;
import com.essbase.api.metadata.IEssCubeOutline;
import com.essbase.api.metadata.IEssDimension;
import com.hyperion.planning.EssbaseConnectionManager;
import com.hyperion.planning.EssbaseCube;

public class DimensionTypeTest {
	
	private static HashMap<String, String> dimesnionMapping = new HashMap<String, String>();
	private static HashMap<Integer, String> planningDimesnions = new HashMap<Integer, String>();
	private static HashMap<String, Integer> otlDimesnions = new HashMap<String, Integer>();

	public static void main(String[] args) {
		EssbaseConnectionManager conn = new EssbaseConnectionManager("", "", "slc14vmw.us.oracle.com");
		EssbaseCube cube = new EssbaseCube();
		cube.setApplicationName("HSP_TEMP_OTL_IMPORT_APP");
		cube.setCubeName("Jane_Story_SALES_New");
		
		try {
			conn.connectToCube(cube);
			cube.load();
			IEssCube essCube = cube.getCube();
			planningDimesnions = loadPlanningDimesnions();
			IEssCubeOutline outline = EssbaseCube.openCubeOutline(essCube);
			IEssBaseObject dimensions[] = outline.getDimensions().getAll();
			for(IEssBaseObject baseObject : dimensions){
				IEssDimension dimension = (IEssDimension) baseObject;
				String otlDimName = dimension.getCategory().stringValue();
				int otlDimension = dimension.getCategory().intValue();
				if(planningDimesnions.containsKey(otlDimension)){
					String planningDimName = planningDimesnions.get("");
					dimesnionMapping.put(otlDimName, planningDimName);
				}
			}
		}catch(Exception e){
			System.out.println("Exception : "+e.getMessage());
		}
	}

	private static HashMap<Integer, String> loadPlanningDimesnions() {
		HashMap<Integer, String> planningDimesnions = new HashMap<Integer, String>();
		planningDimesnions.put(31, "Scenario");
		planningDimesnions.put(32, "Account");
		planningDimesnions.put(33, "Entity");
		planningDimesnions.put(34, "Period");
		planningDimesnions.put(35, "Version");
		planningDimesnions.put(37, "Currency");
		planningDimesnions.put(38, "Year");
		return planningDimesnions;
	}
}

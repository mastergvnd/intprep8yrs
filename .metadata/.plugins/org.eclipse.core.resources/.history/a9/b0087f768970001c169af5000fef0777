package paypal;

import java.util.ArrayList;
import java.util.Arrays;
import java.util.HashMap;
import java.util.List;
import java.util.Map;

import org.junit.Assert;

public class _B25ReconstructItinerary {

	public static void main(String[] args) {
		List<List<String>> tickets = new ArrayList<List<String>>();
		tickets.add(new ArrayList(Arrays.asList("Chennai", "Banglore")));
		tickets.add(new ArrayList(Arrays.asList("Bombay", "Delhi")));
		tickets.add(new ArrayList(Arrays.asList("Goa", "Chennai")));
		tickets.add(new ArrayList(Arrays.asList("Delhi", "Goa")));
		
//		List<String> itinerary = findItinerary(tickets);
//		System.out.println(itinerary);
//		Assert.assertEquals(new ArrayList(Arrays.asList("Bombay", "Delhi", "Goa", "Chennai", "Banglore")), itinerary);
//		
		tickets = new ArrayList<List<String>>();
		tickets.add(new ArrayList(Arrays.asList("JFK_NY", "SFO")));
		tickets.add(new ArrayList(Arrays.asList("JFK_NY", "ATL_GA")));
		tickets.add(new ArrayList(Arrays.asList("SFO", "ATL_GA")));
		tickets.add(new ArrayList(Arrays.asList("ATL_GA", "JFK_NY")));
		tickets.add(new ArrayList(Arrays.asList("ATL_GA", "SFO")));
		System.out.println(tickets);
	}

	public static List<String> findItinerary(List<List<String>> tickets) {
		List<String> result = new ArrayList<String>();
		if(tickets.size() == 0)
			return result;
		Map<String, String> itinerary = new HashMap<String, String>();
		for(List<String> ticket : tickets) {
			itinerary.put(ticket.get(0), ticket.get(1));
		}
		String start = null;
		for(Map.Entry<String, String> entry : itinerary.entrySet()) {
			if(!itinerary.containsValue(entry.getKey()))
				start = entry.getKey();
		}
		System.out.println(itinerary);
		while(start != null) {
			result.add(start);
			start = itinerary.get(start);
		}
		return result;
	}

}
